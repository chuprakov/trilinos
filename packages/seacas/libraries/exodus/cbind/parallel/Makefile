# Makefile generated by imake - do not edit!
# $XConsortium: imake.c /main/90 1996/11/13 14:43:23 lehors $

# ----------------------------------------------------------------------
# Makefile generated from "Imake.tmpl" and </tmp/IIf.jbrgA8>
# $XConsortium: Imake.tmpl /main/243 1996/11/13 14:42:56 lehors $
#

all::

.SUFFIXES: .i

# $XConsortium: Imake.cf /main/26 1996/09/28 16:05:09 rws $

# -----------------------------------------------------------------------
# site-specific configuration parameters that need to come before
# the platform-specific parameters - edit site.def to change

# site.def file for SNL ACCESS System

# ----------------------------------------------------------------------
# platform-specific configuration parameters - edit linux.cf to change

# ========================================================================
# Define ONE of the following compilers.
#
#  [GCC4GFORTRAN] gcc, g++, g77  (version 4.1 or later)
#  [GCCG77]       gcc, g++, g77  (version 3.X)
#  [PORTLAND]     pgcc, pgCC, pgf77 (Portland wg-seacas)
#  [USE_INTEL]    icc,  ifc (Intel)
#  [GCC_INTEL]    gcc/g++ to compiler C/C++ code and intel to compile fortran/fortran90 code

#   using several compilers:                     Symbol to define
#       gcc, g++, g77  (version 4.1 or later)	 [GCC4GFORTRAN]
#       gcc, g++, g77  (version 3.X)	         [GCCG77]
#       pgcc, pgCC, pgf77 (Portland wg-seacas)           [PORTLAND]
#       icc,  ifc (Intel)                            [USE_INTEL]
#
#   Pronto3D and Jas3D require a Fortran90 compiler.
#   We have used intel, portland, pathscale, gfortran-4.X
#
# NOTE: This was copied from the X11 distribution and modified.
#       It includes several symbols that are not used in ACCESS.
#
# NOTE: The default flags do not do very aggressive optimization;
#       You can change this if you want (possibly) faster execution.
#
# Contact gdsjaar@sandia.gov if you have any questions
#

# operating system:  Linux 2.6.18-238.9.1.el5 #1 SMP Fri Mar 18 12:42:39 EDT 2011 x86_64 (2.6.18)

# Default location for linux systems if not redefined above

# $XConsortium: lnxLib.rules /main/13 1996/09/28 16:11:01 rws $

# ----------------------------------------------------------------------
# site-specific configuration parameters that go after
# the platform-specific parameters - edit site.def to change

# site.def file for SNL ACCESS linux

# ---------------------------------------------------------------------
# Imake rules for building libraries, programs, scripts, and data files
# rules:  $XConsortium: Imake.rules /main/217 1996/12/05 09:48:26 kaleb $

 _NULLCMD_ = @ echo -n

          PATHSEP = /
            SHELL = /bin/sh

           SYSTEM = linux
          LSYSTEM = `echo $(SYSTEM) | tr "[A-Z]" "[a-z]"`

              TOP = ../../../..
      CURRENT_DIR = libraries/exodus/cbind/parallel
          DESTDIR =
   SERIALDEBUGCMD = "dbx"
  PARDEBUGCMDSNGL = "mpirun -dbx"
  PARDEBUGCMDMULT = "mpirun -dbx"

            IMAKE = $(ETCDIR)/imake
           DEPEND = $(ETCDIR)/makedepend
        MKDIRHIER = mkdir -p
    EXPORTLISTGEN =
        CONFIGSRC = $(TOP)/config
         IMAKESRC = $(CONFIGSRC)/imake
        DEPENDSRC = $(CONFIGSRC)/util

          INCROOT = /home/gdsjaar/src/SEACAS/inc
        USRLIBDIR = /home/gdsjaar/src/SEACAS/lib
         SHLIBDIR = /home/gdsjaar/src/SEACAS/lib/shared
       LINTLIBDIR = $(USRLIBDIR)/lint
          MANPATH = /home/gdsjaar/src/SEACAS/man
    MANSOURCEPATH = $(MANPATH)/man
           MANDIR = $(MANSOURCEPATH)$(MANSUFFIX)
        LIBMANDIR = $(MANSOURCEPATH)$(LIBMANSUFFIX)
       FILEMANDIR = $(MANSOURCEPATH)$(FILEMANSUFFIX)

               AR = ar cr
          ARFLAGS = cru
  BOOTSTRAPCFLAGS =
               CC = mpicc
               FC = mpif77
             F90C = mpif90
            CCPAR = mpicc
            FCPAR = mpif77
          F90CPAR = mpif90
               AS = as
             TEST = /bin/test
              M2C = /bin/true

.SUFFIXES: .cxx

              CXX = mpiCC
          CXXFILT = c++filt
           CXXLIB =
    CXXDEBUGFLAGS =
CXXDEPENDINCLUDES =
 CXXEXTRA_DEFINES =
CXXEXTRA_INCLUDES =
   CXXSTD_DEFINES = -m64 -DBuild64 -Dlinux  -DADDC_ -DPARALLEL_AWARE_EXODUS $(CXXPROJECT_DEFINES)
       CXXOPTIONS =
      CXXINCLUDES = $(CXXEXTRA_INCLUDES) $(INCLUDES) $(TOP_INCLUDES)
       CXXDEFINES = $(CXXINCLUDES) $(CXXSTD_DEFINES) $(THREADS_CXXDEFINES) $(CXXEXTRA_DEFINES) $(DEFINES)
         CXXFLAGS = $(CXXDEBUGFLAGS) $(DEBUG) $(CXXOPTIONS) $(THREADS_CXXFLAGS) $(CXXDEFINES) $(PROJECT_INCLUDES)

         COMPRESS = compress
              CPP = /lib/cpp $(STD_CPP_DEFINES)
    PREPROCESSCMD = /lib/cpp -P $(STD_CPP_DEFINES)
          INSTALL = install
     INSTALLFLAGS = -c
               LD = ld
              LEX = lex
           LEXLIB = -ll
             YACC = yacc
           CCYACC = yacc
             LINT = lint
      LINTLIBFLAG = -C
         LINTOPTS = -axz
               LN = ln -s
             MAKE = make
               MV = mv
               CP = cp

           RANLIB = ranlib
  RANLIBINSTFLAGS =

               RM = rm -f
        MANSUFFIX = n
     LIBMANSUFFIX = 3
    FILEMANSUFFIX = 5
            TROFF = psroff
            NROFF = nroff
         MSMACROS = -ms
        MANMACROS = -man
              TBL = tbl
              EQN = eqn
             NEQN = neqn
              COL = col

         PICFLAGS = -fpic

    SHAREDCODEDEF =
         SHLIBDEF =

     SHLIBLDFLAGS = -shared -L$(USRLIBDIRPATH) -Wl,-rpath,$(SHLIBDIR)

         PICFLAGS = -fpic

      CXXPICFLAGS = -fPIC

     INSTPGMFLAGS =

     INSTETCFLAGS = -m 775 -o gdsjaar -g wg-seacas
     INSTBINFLAGS = -m 775 -o gdsjaar -g wg-seacas
     INSTUIDFLAGS = -m InstAccUid -o gdsjaar -g wg-seacas
     INSTLIBFLAGS = -m 775 -o gdsjaar -g wg-seacas
     INSTINCFLAGS = -m 775 -o gdsjaar -g wg-seacas
     INSTMANFLAGS = -m 765 -o gdsjaar -g wg-seacas
     INSTDATFLAGS = -m 765 -o gdsjaar -g wg-seacas
    INSTKMEMFLAGS = -m InstAccUid -o gdsjaar -g wg-seacas

      PROJECTROOT = /home/gdsjaar/src/SEACAS

     STD_INCLUDES =
  STD_CPP_DEFINES = -m64 -DBuild64 -Dlinux  -DADDC_ -DPARALLEL_AWARE_EXODUS $(PROJECT_DEFINES)
      STD_DEFINES = -m64 -DBuild64 -Dlinux  -DADDC_ -DPARALLEL_AWARE_EXODUS $(PROJECT_DEFINES)
 EXTRA_LOAD_FLAGS = -L$(USRLIBDIRPATH) -Wl,-rpath,$(SHLIBDIR)
  EXTRA_LDOPTIONS = -m64
  EXTRA_LIBRARIES =
F90EXTRALIBRARIES =
             TAGS = ctags

      ALLINCLUDES = $(INCLUDES) $(EXTRA_INCLUDES) $(TOP_INCLUDES) $(STD_INCLUDES)
       ALLDEFINES = $(ALLINCLUDES) $(STD_DEFINES) $(EXTRA_DEFINES) $(THREADS_DEFINES) $(DEFINES)

            DEBUG = -O
      CDEBUGFLAGS =
        CCOPTIONS =
     PARCCOPTIONS =
   CCEXTRAOPTIONS =
           CFLAGS = $(CDEBUGFLAGS)  $(DEBUG) $(CCOPTIONS) $(CCEXTRAOPTIONS) $(THREADS_CFLAGS) $(ALLDEFINES) $(PROJECT_INCLUDES)
        LINTFLAGS = $(LINTOPTS) -DLINT $(ALLDEFINES) $(DEPEND_DEFINES)

    F77DEBUGFLAGS =
       F77OPTIONS = -fno-range-check
  F77EXTRAOPTIONS =
   F77PRECOPTIONS = -m64 -DBuild64  -fno-f2c -O3 -fno-range-check -fcray-pointer -fdefault-real-8 -fdefault-integer-8
    PARF77OPTIONS = -fno-range-check
   F77STATICFLAGS =
      F77CPPFLAGS = -D$(SYSTEM)
           FFLAGS = $(F77DEBUGFLAGS) $(DEBUG) $(F77OPTIONS) $(F77PRECOPTIONS) $(F77EXTRAOPTIONS) $(PROJECT_INCLUDES)

    F90DEBUGFLAGS =
       F90OPTIONS =
  F90EXTRAOPTIONS =
    PARF90OPTIONS =
   F90STATICFLAGS =
      F90CPPFLAGS = -D$(SYSTEM) $(STD_CPP_DEFINES)
   F90PRECOPTIONS = -m64 -fno-f2c -O3
F90EXTRALDOPTIONS =
         F90FLAGS = $(F90DEBUGFLAGS) $(DEBUG) $(F90OPTIONS) $(F90EXTRAOPTIONS) $(F90PRECOPTIONS) $(PROJECT_INCLUDES)

         LDPRELIB = -L$(USRLIBDIR)
        LDPOSTLIB =
        LDOPTIONS = $(EXTRA_LDOPTIONS) $(THREADS_LDFLAGS) $(LOCAL_LDFLAGS) $(LDPRELIBS)
     PARLDOPTIONS = -m64
           LDLIBS = $(LDPOSTLIBS) $(THREADS_LIBS) $(SYS_LIBRARIES) $(EXTRA_LIBRARIES)
     CXXLDOPTIONS = $(CXXOPTIONS) $(EXTRA_LDOPTIONS) $(THREADS_CXXLDFLAGS) $(LOCAL_LDFLAGS) $(LDPRELIBS)

           CCLINK = $(CC)

         NATIVECC = mpicc
        NATIVEF77 = mpif77
          CROSSCC = mpicc
  CROSSACCESSROOT = /Net/projects/seacas/janus/current
   CROSSACCESSSRC = $(CROSSACCESSROOT)/ACCESS
  CROSSALLDEFINES = -I$(CROSSACCESSROOT)/inc -Dcouar -DADDC_ -Usun
     CROSSLIBPATH = -L./ -L$(CROSSACCESSROOT)/lib
    CROSSPLIBPATH = -L./ -L$(CROSSACCESSROOT)/plib
      CROSSLIBDIR = $(CROSSACCESSROOT)/lib
     CROSSPLIBDIR = $(CROSSACCESSROOT)/plib
 CROSSPROJECTINCS = -I./ -I$(CROSSACCESSROOT)/inc

          CXXLINK = $(CXX)

     LDSTRIPFLAGS = -x
   LDCOMBINEFLAGS = -r
      DEPENDFLAGS =

        MACROFILE = linux.cf
           RM_CMD = $(RM)

    IMAKE_DEFINES =
   ITOOLS_DEFINES = -DUseSfmakedepend=0

         IRULESRC = $(CONFIGDIR)
        IMAKE_CMD = $(IMAKE) -DUseInstalled -I$(IRULESRC) $(IMAKE_DEFINES)

# ----------------------------------------------------------------------
# ACCESS linux Build Parameters and Rules
# ACCESS.tmpl

          TEMPDIR = /usr/tmp

# PROJECTNAME     : name of project
# PROJECTRELEASE  : release number of ACCESS distribution
# ACCESSSRC       : location of ACCESS source code
# ACCESSDIR       : location of ACCESS installation directories
# Set in site.def : "SNLA ACCESS", "1.0", /home/gdsjaar/src/SEACAS, /home/gdsjaar/src/SEACAS
      PROJECTNAME = "SNLA ACCESS"
   PROJECTRELEASE = "1.0"
        ACCESSSRC = /home/gdsjaar/src/SEACAS/ACCESS
        ACCESSDIR = /home/gdsjaar/src/SEACAS

        TFLOPROOT = TflopAccessRoot
       CPLANTROOT = CplantAccessRoot

# Source code for the ACCESS linux

        ITOOLSSRC = itools

      GRAPHICSSRC = graphics
          SVDISRC = svdi

     LIBRARIESSRC = libraries
        NETCDFSRC = netcdf

          HDF5SRC = hdf5

     SERIALMPISRC = serial_mpi

        MATLABSRC = matlab

   APPLICATIONSRC = applications
       SCRIPTSSRC = scripts
        TESTPROBS = test
  PARLIBRARIESSRC = parallellibraries
     PARNETCDFSRC = parallelnetcdf

# Translator Subdirectories
       ALGEBRASRC = algebra
      ALGEBRA2SRC = algebra2
        CONCATSRC = concat
         CONEXSRC = conex
        CONEX2SRC = conex2
       CONJOINSRC = conjoin
         EJOINSRC = ejoin
        EMERGESRC = emerge
        EXOCTHSRC = exocth
        EXOEXOSRC = exoexo
        EXOPATSRC = exopat
        EXOSYMSRC = exosym
        EXOTRCSRC = exotrc
       EXOTEC2SRC = exotec2
        EXOTXTSRC = exotxt
       EXOTXT2SRC = exotxt2
        PATEXOSRC = patexo
        SEAEXOSRC = seaexo
      SPHGEN2DSRC = sphgen2d
      SPHGEN3DSRC = sphgen3d
     SPHGEN3D2SRC = sphgen3d2
        TXTEXOSRC = txtexo
       TXTEXO2SRC = txtexo2
       EXO2VISSRC = exo2vis

     EXOMATLABSRC = exomatlab
        EXOMATSRC = exomat
       EXO2MATSRC = exo2mat

      EX1EX2V2SRC = ex1ex2v2
      EX2EX1V2SRC = ex2ex1v2
       EXODIFFSRC = exodiff
           EPUSRC = epu
        ABAEXOSRC = abaexo
      NEM_JOINSRC = nem_join
     NEM_SLICESRC = nem_slice
    NEM_SPREADSRC = nem_spread
         WTO3DSRC = wto3d

# Graphics Subdirectories
          BLOTSRC = blot
       BLOTII2SRC = blotII2
         FASTQSRC = fastq
         FONTSSRC = fonts
         GRAPHSRC = graph

# Library Subdirectories
         SUPESSRC = supes
       SUPESDPSRC = supesdp
        SUPLIBSRC = suplib
     MAPVARLIBSRC = mapvarlib
        LEGACYSRC = legacy
        EXODUSSRC = exodus

           PLTSRC = plt
   VDI_DRIVERSSRC = vdi_drivers

          IOSSSRC = ioss
        ZOLTANSRC = zoltan
         CHACOSRC = chaco
       NEMESISSRC = nemesis
    APREPROLIBSRC = aprepro

# Library Subdirectories for svdi
           CGISRC = cgi
           CDRSRC = cdr
          POSTSRC = post
          TESTSRC = test

# Pre- and Post-processing Subdirectories
       APREPROSRC = aprepro
      FAILPROBSRC = failprob
         GEN3DSRC = gen3d
        GEN3D2SRC = gen3d2
      GENSHELLSRC = genshell
     GENSHELL2SRC = genshell2
      GENHXSHLSRC = genhxshl
         GJOINSRC = gjoin
        GJOIN1SRC = gjoin1
        GJOIN2SRC = gjoin2
        GREPOSSRC = grepos
       GREPOS2SRC = grepos2
         GROPESRC = grope
        MAPVARSRC = mapvar
      MAPVARKDSRC = mapvar-kd
       NUMBERSSRC = numbers
      NUMBERS2SRC = numbers2
       EX_JOINSRC = ex_join

         SPIFFSRC = spiff

# Analysis Subdirectories
         JAC2DSRC = jac2d
         JAC3DSRC = jac3d
        JACQ3DSRC = jacq3d
         JAS3DSRC = jas3d
         LCLIBSRC = lclib
      PRONTO2DSRC = pronto2d
      PRONTO3DSRC = pronto3d
    PRONTO3D94SRC = pronto3d-9.4
        SANCHOSRC = sancho
        SANTOSSRC = santos
      SANTOS3DSRC = santos3d
       MERLIN2SRC = merlin2
        SUBWAYSRC = subway
        COYOTESRC = coyote

# GUI Subdirectories
           RAPSRC = rap

# ACCESS installation directories
           BINDIR = $(ACCESSDIR)/bin
        CONFIGDIR = $(ACCESSDIR)/config
           ETCDIR = $(ACCESSDIR)/etc
           INCDIR = $(ACCESSDIR)/inc
           LIBDIR = $(ACCESSDIR)/lib
          PLIBDIR = $(ACCESSDIR)/plib
        MATLABDIR = $(ACCESSDIR)/matlab
          SVDIDIR = $(ACCESSDIR)/svdi
      SVDITESTDIR = $(ACCESSDIR)/svdi/test
      BUILDINCDIR = $(ACCESSDIR)/inc
      BUILDINCTOP = ..
      BUILDLIBDIR = $(TOP)/usrlib

# Override Include directories
           INCREF =
           ALTINC =
       INCLUDESRC = ./
 PROJECT_INCLUDES = -I$(INCLUDESRC) $(ALTINC) -I$(INCDIR)

# Override Library directories
           LIBREF =
       ALTLIBPATH =
          LIBPATH = -L$(INCLUDESRC) $(ALTLIBPATH) -L$(LIBDIR)
         PLIBPATH = -L$(INCLUDESRC) $(ALTLIBPATH) -L$(PLIBDIR)

# Libraries
             IOSS = -lIonit -lIoex  -lIogn -lIotr -lIohb -lIoss
             HDF5 = -lhdf5
          HDF5_HL = -lhdf5_hl
            SUPES = -lsupes
          SUPESDP = -lsupesdp
           SUPLIB = -lsuplib
        MAPVARLIB = -lmapvarlib
           LEGACY = -llegacy
              PLT = -lplt
           RPCLIB =
   EXTRANETCDFLIB = -lhdf5_hl -lhdf5 -lm -lz
            LCLIB = -lLegacyContact
           NETCDF = -lnetcdf $(EXTRANETCDFLIB)
         EXOIIV2C = -lexodus
           EXODUS = -lexodus
       EXOIIV2FOR = -lexoIIv2for
     EXOIIV2FOR32 = -lexoIIv2for32
           ABALIB =
              CGI = -lcgi
              CDR = -lcdr
          NEMESIS = -lnemesis
         NEMESISC = -lnemesis
         NEMESISF = -lnemIf
       NEMESISF32 = -lnemIf32
            CHACO = -lchaco
           ZOLTAN = -lzoltan

# Libraries and include path used for building parallel executables
         PARFLIBS = -lmpi
         PARCLIBS = -lmpi
       PARINCPATH =

# Perl command and includes needed for sfmakedepend
          PERLCMD = /usr/bin/perl
        DEPENDINC = -I /usr/include -I $(INCDIR)

# X11 includes and libraries
      X11INCLUDES = -I/usr/include/X11R6
              X11 = -L/usr/lib64 -lX11

# Matlab includes and libraries
  MATLABLIBRARIES =
   MATLABINCLUDES =

# Definitions used for running parallel executables
         PARALLEL = 0
        NUM_PROCS = 1
        PARRUNCMD = mpirun
            NPCMD = -np
            HFCMD = -p4pg

# Imake flag used in the parallel directories

PARALLELIMAKEFLAG = -DPARALLEL

     ICONFIGFILES = $(IRULESRC)/Imake.tmpl $(IRULESRC)/ACCESS.tmpl 			$(IRULESRC)/site.def $(IRULESRC)/$(MACROFILE) 			 $(EXTRA_ICONFIGFILES)

        CONFIGDIR = $(ACCESSDIR)/config

    USRLIBDIRPATH = /home/gdsjaar/src/SEACAS/lib
        LDPRELIBS =
       LDPOSTLIBS =
     TOP_INCLUDES = -I$(INCROOT)
  PROJECT_DEFINES =

CXXPROJECT_DEFINES =

# ----------------------------------------------------------------------
# start of Imakefile

# Copyright (c) 2005 Sandia Corporation. Under the terms of Contract
# DE-AC04-94AL85000 with Sandia Corporation, the U.S. Governement
# retains certain rights in this software.
#
# Redistribution and use in source and binary forms, with or without
# modification, are permitted provided that the following conditions are
# met:
#
#     * Redistributions of source code must retain the above copyright
#       notice, this list of conditions and the following disclaimer.
#
#     * Redistributions in binary form must reproduce the above
#       copyright notice, this list of conditions and the following
#       disclaimer in the documentation and/or other materials provided
#       with the distribution.
#
#     * Neither the name of Sandia Corporation nor the names of its
#       contributors may be used to endorse or promote products derived
#       from this software without specific prior written permission.
#
# THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
# "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
# LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
# A PARTICULAR PURPOSE ARE DISCLAIMED. IN 0 EVENT SHALL THE COPYRIGHT
# OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
# SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
# LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
# DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
# THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
# (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
# OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
#

# Use include files locates in exodusii/cbind/include
INCLUDES = -I../include
REQUIREDLIBS = -L$(SHLIBDIR) $(EXODUS) $(NETCDF)

SOREV = 5

CC      = $(CCPAR)

DEFINES = $(PICFLAGS)

SRCS =	ex_open_par.c ex_create_par.c

OBJS = ${SRCS:.c=.o}

# $XConsortium: Library.tmpl /main/42 1996/12/04 10:10:19 swick $

         CC = $(CCPAR)
  CCOPTIONS =
STD_DEFINES = -m64 -DBuild64 -Dlinux  -DADDC_ -DPARALLEL_AWARE_EXODUS $(PROJECT_DEFINES)
CDEBUGFLAGS =

LIB_MT_DEFINES = LibraryMTDefines

LIBNAME = exodus_par

all::
	$(_NULLCMD_)
	$(_NULLCMD_)
	@if [ -d unshared ]; then exit 0; else set -x; mkdir unshared; fi

includes::
	$(_NULLCMD_)
	$(_NULLCMD_)
	@if [ -d unshared ]; then exit 0; else set -x; mkdir unshared; fi

.c.o:
	$(_NULLCMD_)
	$(_NULLCMD_)
	$(RM) $@ unshared/$@
	 	$(CC) -c $(CCOPTIONS) $(ALLDEFINES) $(CDEBUGFLAGS) $(DEBUG) $(_NOOP_) $*.c
	$(MV) $@ unshared/$@
	$(RM) $@
	 	$(CC) -c $(CFLAGS) $(_NOOP_) $(SHLIBDEF) $(SHAREDCODEDEF) $(PICFLAGS) $*.c

clean::
	$(_NULLCMD_)
	$(_NULLCMD_)
	-@if [ -d unshared ]; then \
		set -x; $(RM) -r unshared; else exit 0; fi

all:: lib$(LIBNAME).so.$(SOREV)

lib$(LIBNAME).so.$(SOREV):  $(OBJS) $(EXTRALIBRARYDEPS)
	$(RM) $@~
	(cd .; T=`echo $@ | sed 's/\.[^\.]*$$//'`; 		$(CC) -o ./$@~ $(SHLIBLDFLAGS) -Wl,-soname,$$T $(OBJS) $(REQUIREDLIBS))
	$(RM) $@
	$(MV) $@~ $@
	$(RM) lib$(LIBNAME).so
	$(LN) $@ lib$(LIBNAME).so
	$(_NULLCMD_)
	$(_NULLCMD_)

clean::
	$(RM) lib$(LIBNAME).so.$(SOREV) lib$(LIBNAME).so

install:: lib$(LIBNAME).so.$(SOREV)
	@if [ -d $(DESTDIR)$(SHLIBDIR) ]; then set +x; \
		else (set -x; $(MKDIRHIER) $(DESTDIR)$(SHLIBDIR)); fi
	$(INSTALL) $(INSTALLFLAGS) $(INSTBINFLAGS) lib$(LIBNAME).so.$(SOREV) $(DESTDIR)$(SHLIBDIR)
	(T=`echo $(DESTDIR)$(SHLIBDIR)/lib$(LIBNAME).so.$(SOREV) | sed 's/\.[^\.]*$$//'`;		$(RM) $$T && $(LN) lib$(LIBNAME).so.$(SOREV) $$T)
	$(RM) $(DESTDIR)$(SHLIBDIR)/lib$(LIBNAME).so
	$(LN) lib$(LIBNAME).so.$(SOREV) $(DESTDIR)$(SHLIBDIR)/lib$(LIBNAME).so

all:: lib$(LIBNAME).a

lib$(LIBNAME).a: $(OBJS) $(EXTRALIBRARYDEPS)
	$(RM) $@
	(cd unshared && $(AR) ../$@ $(OBJS))
	$(RANLIB) $@
	$(_NULLCMD_)

install:: lib$(LIBNAME).a
	@if [ -d $(DESTDIR)$(USRLIBDIR) ]; then set +x; \
		else (set -x; $(MKDIRHIER) $(DESTDIR)$(USRLIBDIR)); fi
	$(INSTALL) $(INSTALLFLAGS) $(INSTLIBFLAGS) lib$(LIBNAME).a $(DESTDIR)$(USRLIBDIR)
	$(RANLIB) $(RANLIBINSTFLAGS) $(DESTDIR)$(USRLIBDIR)/lib$(LIBNAME).a

lintlib:: llib-l$(LIBNAME).ln

llib-l$(LIBNAME).ln: $(SRCS) $(EXTRALIBRARYDEPS)
	$(RM) $@
	$(LINT) $(LINTLIBFLAG)$(LIBNAME) $(LINTFLAGS) $(SRCS)

install.ln:: llib-l$(LIBNAME).ln
	@if [ -d $(DESTDIR)$(LINTLIBDIR) ]; then set +x; \
		else (set -x; $(MKDIRHIER) $(DESTDIR)$(LINTLIBDIR)); fi
	$(INSTALL) $(INSTALLFLAGS) $(INSTLIBFLAGS) llib-l$(LIBNAME).ln $(DESTDIR)$(LINTLIBDIR)/llib-l$(LIBNAME).ln

includes:: $(HEADERS)
	@if [ -d $(BUILDINCDIR) ]; then set +x; \
		else (set -x; $(MKDIRHIER) $(BUILDINCDIR)); fi
	@(set -x; cd $(BUILDINCDIR); for i in $(HEADERS); do \
		$(RM) $$i; \
		$(LN) $(BUILDINCTOP)/$(CURRENT_DIR)/$$i .; \
	done)

install:: $(HEADERS)
	@if [ -d $(DESTDIR)$(INCDIR) ]; then set +x; \
		else (set -x; $(MKDIRHIER) $(DESTDIR)$(INCDIR)); fi
	@for flag in $(MAKEFLAGS) ''; do \
	  case "$$flag" in *=*) ;; *[i]*) set +e;; esac; done; \
	for i in $(HEADERS); do \
		(set -x; $(INSTALL) $(INSTALLFLAGS) $(INSTINCFLAGS) $$i $(DESTDIR)$(INCDIR)); \
	done

lint:
	$(LINT) $(LINTFLAGS) $(SRCS) $(LINTLIBS)
lint1:
	$(LINT) $(LINTFLAGS) $(FILE) $(LINTLIBS)

all:: libexodus_par.a
libexodus_par.a: $(OBJS)
	$(AR) $@ $?
	$(RANLIB) $@
	$(_NULLCMD_)
	$(CP) libexodus_par.a ../../

$(OBJS): ../include/exodusII.h ../include/exodusII_int.h ../include/exodusII_par.h

depend::
	$(DEPEND) $(DEPENDFLAGS) -- $(ALLDEFINES) $(DEPEND_DEFINES) -- $(SRCS)

all::
	$(_NULLCMD_)
	$(_NULLCMD_)
	@if [ -d unshared ]; then exit 0; else set -x; mkdir unshared; fi

includes::
	$(_NULLCMD_)
	$(_NULLCMD_)
	@if [ -d unshared ]; then exit 0; else set -x; mkdir unshared; fi

.c.o:
	$(_NULLCMD_)
	$(_NULLCMD_)
	$(RM) $@ unshared/$@
	 	$(CC) -c $(CCOPTIONS) $(ALLDEFINES) $(CDEBUGFLAGS) $(DEBUG) $(_NOOP_) $*.c
	$(MV) $@ unshared/$@
	$(RM) $@
	 	$(CC) -c $(CFLAGS) $(_NOOP_) $(SHLIBDEF) $(SHAREDCODEDEF) $(PICFLAGS) $*.c

clean::
	$(_NULLCMD_)
	$(_NULLCMD_)
	-@if [ -d unshared ]; then \
		set -x; $(RM) -r unshared; else exit 0; fi

# ----------------------------------------------------------------------
# common rules for all Makefiles - do not edit

.c.i:
	$(RM) $@
	 	$(CC) -E $(CFLAGS) $(_NOOP_) $*.c > $@

emptyrule::

clean::
	$(RM) *.CKP *.ln *.BAK *.bak *.o *.M *.mod core errs ,* *~ *.a .emacs_* tags TAGS make.log MakeOut  "#"*

Makefile::
	-@if [ -f Makefile ]; then set -x; \
	$(RM) Makefile.bak; $(MV) Makefile Makefile.bak; \
	else exit 0; fi
	$(IMAKE_CMD) -DTOPDIR=$(TOP) -DCURDIR=$(CURRENT_DIR)

tags::
	$(TAGS) -w *.[ch]
	$(TAGS) -xw *.[ch] > TAGS

man_keywords::

# ----------------------------------------------------------------------
# empty rules for directories that do not have SUBDIRS - do not edit

install::
	@echo "install in $(CURRENT_DIR) done"

install.man::
	@echo "install.man in $(CURRENT_DIR) done"

install.linkkit::
	@echo "install.linkkit in $(CURRENT_DIR) done"

Makefiles::

includes::

depend::

# ----------------------------------------------------------------------

# ----------------------------------------------------------------------
# dependencies generated by makedepend or sfmakedepend

