INCLUDE(SubPackageMacros)
INCLUDE(PackageAddExecutable)
INCLUDE(PackageLibraryMacros)

SUBPACKAGE(Mat2exo)

SET(CMAKE_EXECUTABLE_SUFFIX "")

INCLUDE_DIRECTORIES(
  "${CMAKE_CURRENT_SOURCE_DIR}"
)

INCLUDE_DIRECTORIES(${MATLAB_INCLUDE_DIRS})
LINK_DIRECTORIES(${MATLAB_LIBRARY_DIRS})
SET(DEPMATLIB mx mex mat)

SET(CODE mat2exo)
SET(HEADERS "")
SET(SOURCES add_to_log.c)

PACKAGE_ADD_LIBRARY(${CODE}_app_lib SOURCES ${SOURCES} DEPLIBS exodus ${DEPMATLIB})
PACKAGE_ADD_EXECUTABLE(${CODE} NOEXEPREFIX NOEXESUFFIX SOURCES mat2exo.c DEPLIBS ${CODE}_app_lib ${DEPMATLIB} COMM serial)
install_executable(${CODE})

SUBPACKAGE_POSTPROCESS()

