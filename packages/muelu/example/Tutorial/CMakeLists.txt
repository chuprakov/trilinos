INCLUDE(TribitsAddExecutableAndTest)
INCLUDE(TribitsCopyFilesToBinaryDir)

INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})

ASSERT_DEFINED(
  ${PACKAGE_NAME}_ENABLE_Amesos
  ${PACKAGE_NAME}_ENABLE_Amesos2
  ${PACKAGE_NAME}_ENABLE_Belos
  ${PACKAGE_NAME}_ENABLE_Epetra
  ${PACKAGE_NAME}_ENABLE_EpetraExt
  ${PACKAGE_NAME}_ENABLE_Galeri
  ${PACKAGE_NAME}_ENABLE_Ifpack
  ${PACKAGE_NAME}_ENABLE_Ifpack2
  ${PACKAGE_NAME}_ENABLE_Tpetra
  )

IF (${PACKAGE_NAME}_ENABLE_Belos  AND
    ${PACKAGE_NAME}_ENABLE_Galeri AND
    ((${PACKAGE_NAME}_ENABLE_Epetra AND ${PACKAGE_NAME}_ENABLE_EpetraExt AND ${PACKAGE_NAME}_ENABLE_Amesos AND ${PACKAGE_NAME}_ENABLE_Ifpack) OR
     (${PACKAGE_NAME}_ENABLE_Tpetra AND ${PACKAGE_NAME}_ENABLE_Amesos2   AND ${PACKAGE_NAME}_ENABLE_Ifpack2)))

  TRIBITS_ADD_EXECUTABLE_AND_TEST(
    tutorial
    SOURCES tutorial.cpp
    NUM_MPI_PROCS 2
    COMM mpi serial
    )

  TRIBITS_COPY_FILES_TO_BINARY_DIR(tutorial1_cp
    SOURCE_FILES tutorial1a.xml tutorial1b.xml tutorial1c.xml tutorial1d.xml tutorial1e.xml
    )

ENDIF()

ADD_SUBDIRECTORY(hands-on)
