Here is a build script to build Trios in Trilinos. 

Trios uses the following TPLS, some are optional: 

* netcdf -- http://www.unidata.ucar.edu/software/netcdf/index.html
  - used by exodus and nemesis (and ioss since it uses exodus and nemesis)
  - see exodus/README for some details on modifications recommended for netcdf.

* xdmf -- http://xdmf.org/index.php/Main_Page
  - optionally used for ioss.  A DoD HPC code output format.

* hdf5 -- http://www.hdfgroup.org/HDF5
  - optionally used by netcdf in netcdf-4 mode.
  - used by xdmf

* pamgen -- http://trilinos.sandia.gov/packages/pamgen

========================================================================
CMake defines used to build Trios:
      -D Trilinos_ENABLE_Trios:BOOL=ON 
  
  EXODUS:  
    If the exodus library should be built, then add the defines:
      -D Trios_ENABLE_EXODUS:BOOL=TRUE 
      -D TPL_ENABLE_netcdf:BOOL=ON 
      -D TPL_Netcdf_INCLUDE_DIRS:PATH={path to netcdf includes}
      -D Netcdf_LIBRARY_DIRS:PATH={path to netcdf library}
    This will also enable exodus support in the ioss library.
      
  PAMGEN: 
    For pamgen support in ioss, add the defines:
      -D Trilinos_ENABLE_Pamgen:BOOL=TRUE 

  XDMF:
      -D Trios_ENABLE_XDMF:BOOL=FALSE 
  if xdmf enabled: (will also need hdf5 library)
      -D TPL_XDMF_INCLUDE_DIRS:PATH={path to xdmf includes}
      -D XDMF_LIBRARY_DIRS:PATH={path to xdmf library}

  Trios/ioss can be built either in serial mode or with mpi using the
  standard Trilinos configuration flag.  The exodus and nemesis
  libraries can be built either way, but they have no mpi-related
  code, so the parallel and serial libraries are the same.

A script that can be used to build Trios is:
--------------------------------cut here--------------------------------
EXTRA_ARGS=$@

export MPI_BASE_DIR=/usr/netpub/mpi/OpenMPI/1.4/64Bit/gnu
FORTRAN_COMPILER=/usr/bin/gfortran

# Have to set this to get TRY_RUN(...) commands to work
export LD_LIBRARY_PATH=$MPI_BASE_DIR/lib:$LD_LIBRARY_PATH

#MPI=ON
MPI=OFF
ACCESS=/home/gdsjaar/src/SEACAS.git/netcdf-tmp/

cmake  \
-D CMAKE_INSTALL_PREFIX:PATH=../install_gnu4.2.4ip \
-D CMAKE_BUILD_TYPE:STRING=DEBUG \
-D Trilinos_ENABLE_CHECKED_STL:BOOL=OFF \
-D CMAKE_CXX_COMPILER:FILEPATH=$MPI_BASE_DIR/bin/mpiCC \
-D CMAKE_C_COMPILER:FILEPATH=$MPI_BASE_DIR/bin/mpicc \
-D CMAKE_Fortran_COMPILER:FILEPATH=$FORTRAN_COMPILER \
-D DART_TESTING_TIMEOUT:STRING=600 \
-D CMAKE_VERBOSE_MAKEFILE:BOOL=FALSE \
-D Trilinos_ENABLE_TESTS:BOOL=ON \
-D Trilinos_ENABLE_Trios:BOOL=ON \
-D Trilinos_ENABLE_STK:BOOL=OFF \
-D Trilinos_ENABLE_Pamgen:BOOL=OFF \
-D TPL_ENABLE_Boost:BOOL=OFF \
-D TPL_ENABLE_MPI:BOOL=OFF \
-D TPL_Boost_INCLUDE_DIRS:PATH=/sierra/Dev/gdsjaar/code/TPLs_src/boost/ \
-D TPL_ENABLE_Netcdf:BOOL=ON \
-D TPL_Netcdf_INCLUDE_DIRS:PATH=$ACCESS/include \
-D Netcdf_LIBRARY_DIRS:PATH=$ACCESS/lib \
-D Trios_ENABLE_XDMF:BOOL=FALSE \
-D Trios_ENABLE_EXODUS:BOOL=TRUE \
-D CMAKE_INSTALL_PREFIX:PATH=/scratch/gdsjaar/TrilinosTest \
-D TPL_ENABLE_MPI:BOOL=${MPI} \
-D Trilinos_ENABLE_MPI:BOOL=${MPI} \
-D Trios_ENABLE_APPLICATIONS:BOOL=ON \
$EXTRA_ARGS \
../

--------------------------------cut here--------------------------------
