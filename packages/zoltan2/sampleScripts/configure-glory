#!/bin/bash
# configure zoltan2 on glory to include scotch

SRCDIR=/home/lriesen/projects/Trilinos
CMAKE=/home/lriesen/projects/cmake-2.8.6/bin
SCOTCH=/home/lriesen/projects/scotch_5.1.12

# Clean up the mess from previous configurations.

/bin/rm -rf C* cmake* D* last* Make* packages Testing Trilinos*

$CMAKE/cmake \
-D TPL_ENABLE_MPI:BOOL=OFF\
-D Trilinos_WARNINGS_AS_ERRORS_FLAGS:STRING="" \
-D CMAKE_CXX_FLAGS:STRING="-DTEUCHOS_SUPPRESS_PROC_STARTUP_BANNER" \
-D CMAKE_VERBOSE_MAKEFILE:BOOL=ON \
-D MPI_EXEC_MAX_NUMPROCS:STRING=11 \
-D Trilinos_ENABLE_Teuchos:BOOL=ON \
-D Trilinos_ENABLE_Tpetra:BOOL=ON \
-D Trilinos_ENABLE_Epetra:BOOL=ON \
-D Trilinos_ENABLE_EpetraExt:BOOL=ON \
-D Trilinos_ENABLE_MueLu:BOOL=ON \
-D Trilinos_EXTRA_REPOSITORIES:STRING=preCopyrightTrilinos \
-D Trilinos_ENABLE_EXAMPLES:BOOL=OFF \
-D Trilinos_ENABLE_TESTS:BOOL=OFF \
-D Trilinos_ENABLE_Zoltan2:BOOL=ON \
-D Zoltan2_ENABLE_TESTS:BOOL=ON \
-D Zoltan2_ENABLE_EXAMPLES:BOOL=ON \
-D Zoltan2_HAVE_MALLINFO:BOOL=ON \
-D Zoltan2_ENABLE_Scotch:BOOL=ON \
-D Scotch_LIBRARY_DIRS:FILEPATH=$SCOTCH/lib \
-D Scotch_INCLUDE_DIRS:FILEPATH=$SCOTCH/include \
$SRCDIR

