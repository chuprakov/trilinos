#!/bin/bash

if [ -z $TRILINOS_HOME ]; then
  export TRILINOS_HOME=../../..
fi

for dirName in teuchos epetra kokkos tpetra xpetra ; do
  subDir=$TRILINOS_HOME/packages/$dirName/doc
  if [ -f $subDir/html/index.html ] ; then
    echo "$dirName documentation already built"
  else
    echo "Build $dirName documentation"
    cd $subDir && build_docs && cd -
  fi
done

cd ../scripts && python xml2dox.py && cd -
cp ../scripts/parameters.dox .

doxygen Doxyfile

