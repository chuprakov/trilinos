INCLUDE(PackageLibraryMacros)
INCLUDE(AddOptionAndDefine)


INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
INCLUDE_DIRECTORIES(${CMAKE_CURRENT_SOURCE_DIR})


SET(HEADERS "")
SET(SOURCES "")

FILE(GLOB HEADERS *.hpp)

PACKAGE_CONFIGURE_FILE(${PACKAGE_NAME}_config.h)
LIST(APPEND HEADERS 
 ${CMAKE_CURRENT_BINARY_DIR}/${PACKAGE_NAME}_config.h
  )


ADD_OPTION_AND_DEFINE(
  Kokkos_ENABLE_DeviceCuda
  HAVE_KOKKOS_DEVICECUDA
  "Enable arrays using CUDA Device."
  OFF
  )

ADD_OPTION_AND_DEFINE(
  Kokkos_ENABLE_DeviceHost
  HAVE_KOKKOS_DEVICEHOST
  "Enable arrays using Host Device"
  OFF
  )

ADD_OPTION_AND_DEFINE(
  Kokkos_ENABLE_DevicePthread
  HAVE_KOKKOS_DEVICEPTHREAD
  "Enable arrays using Pthread Device."
  OFF
  )

ADD_OPTION_AND_DEFINE(
  Kokkos_ENABLE_DeviceTPI
  HAVE_KOKKOS_DEVICETPI
  "Enable arrays using TPI Device."
  OFF
  )

ADD_OPTION_AND_DEFINE(
  Kokkos_ENABLE_DeviceTBB
  HAVE_KOKKOS_DEVICETBB
  "Enable arrays using TBB Device."
  OFF
  )

IF(HAVE_KOKKOS_DEVICECUDA)
  ADD_SUBDIRECTORY(DeviceCuda)
ENDIF()

IF(HAVE_KOKKOS_DEVICEHOST)
  ADD_SUBDIRECTORY(DeviceHost)
ENDIF()

IF(HAVE_KOKKOS_DEVICEPTHREAD)
  ADD_SUBDIRECTORY(DevicePthread)
ENDIF()

IF(HAVE_KOKKOS_DEVICETPI)
  ADD_SUBDIRECTORY(DeviceTPI)
ENDIF()

IF(HAVE_KOKKOS_DEVICETBB)
  ADD_SUBDIRECTORY(DeviceTBB)
ENDIF()

ADD_SUBDIRECTORY(impl)

