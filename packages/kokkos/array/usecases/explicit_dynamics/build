#!/bin/csh

#-----------------------------------------------------------------------------
# Quick and dirty build for unit testing with Host (serial) and TPI devices.
# To be replace with CMake integration.

set INC_PATH="-I. -I../../src"

set GCC_SOURCES="../../src/impl/*.cpp ../../src/DeviceHost/*.cpp main.cpp"

#-----------------------------------------------------------------------------

#-----------------------------------------------------------------------------

# /usr/local/cuda/bin/nvcc -arch=sm_20  ${INC_PATH} -O3 -lib -o libCuda.a \
#      ../../src/DeviceCuda/*.cu testCuda.cu

# set LIB="${LIB} -L/usr/local/cuda/lib64 libCuda.a -lcudart -lcuda"

#-----------------------------------------------------------------------------

set LIB="-lpthread"

set GCC_FLAGS="-Wall -g -O0 -fopenmp ${INC_PATH}"

g++ $GCC_FLAGS -c ${GCC_SOURCES}

g++ $GCC_FLAGS -o explicit_dynamics_app.x *.o ${LIB} 


#-----------------------------------------------------------------------------

