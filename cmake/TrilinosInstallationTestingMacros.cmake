FUNCTION(FIND_TRILINOS_INSTALL)
  IF(${PROJECT_NAME}_ENABLE_INSTALLATION_TESTING)
    IF(${PROJECT_NAME}_VERBOSE_CONFIGURE)
      MESSAGE("Searching for Trilinos installation at ${${PROJECT_NAME}_INSTALLATION_DIR}/include")
    ENDIF()
    FIND_PACKAGE(Trilinos REQUIRED HINTS ${${PROJECT_NAME}_INSTALLATION_DIR})

    IF(${PROJECT_NAME}_VERBOSE_CONFIGURE)
      MESSAGE("Found Trilinos installation version ${${PROJECT_NAME}_VERSION} at ${Trilinos_DIR}")
    ENDIF()

    #renaming some of the variables so that they do not clash with the variables of the same name.
    SET(${PROJECT_NAME}_INSTALLATION_VERSION           ${${PROJECT_NAME}_VERSION}           PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_INCLUDE_DIRS      ${${PROJECT_NAME}_INCLUDE_DIRS}      PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_LIBRARY_DIRS      ${${PROJECT_NAME}_LIBRARY_DIRS}      PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_LIBRARIES         ${${PROJECT_NAME}_LIBRARIES}         PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_PACKAGE_LIST      ${${PROJECT_NAME}_PACKAGE_LIST}      PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_BUILD_SHARED_LIBS ${${PROJECT_NAME}_BUILD_SHARED_LIBS} PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_TPL_INCLUDE_DIRS  ${${PROJECT_NAME}_TPL_INCLUDE_DIRS}  PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_TPL_LIBRARY_DIRS  ${${PROJECT_NAME}_TPL_LIBRARY_DIRS}  PARENT_SCOPE)
    SET(${PROJECT_NAME}_INSTALLATION_TPL_LIBRARIES     ${${PROJECT_NAME}_TPL_LIBRARIES}     PARENT_SCOPE)

    FOREACH(PACKAGE ${${PROJECT_NAME}_PACKAGE_LIST})
      SET(${PACKAGE}_INSTALLATION_INCLUDE_DIRS     ${${PACKAGE}_INCLUDE_DIRS}     PARENT_SCOPE)
      SET(${PACKAGE}_INSTALLATION_LIBRARY_DIRS     ${${PACKAGE}_LIBRARY_DIRS}     PARENT_SCOPE)
      SET(${PACKAGE}_INSTALLATION_LIBRARIES        ${${PACKAGE}_LIBRARIES}        PARENT_SCOPE)
      SET(${PACKAGE}_INSTALLATION_TPL_INCLUDE_DIRS ${${PACKAGE}_TPL_INCLUDE_DIRS} PARENT_SCOPE)
      SET(${PACKAGE}_INSTALLATION_TPL_LIBRARY_DIRS ${${PACKAGE}_TPL_LIBRARY_DIRS} PARENT_SCOPE)
      SET(${PACKAGE}_INSTALLATION_TPL_LIBRARIES    ${${PACKAGE}_TPL_LIBRARIES}    PARENT_SCOPE)
    ENDFOREACH()

  ENDIF()
ENDFUNCTION()
